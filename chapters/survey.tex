\xchapter{\textit{Survey}}{}
\acresetall 

Com o objetivo de compreender como testadores e desenvolvedores, realizam o teste de regressão, e como forma de responder a QP3 da presente investigação, aplicamos um \textit{Survey}, que foi respondido por 100 profissionais e pesquisadores que atuam em projetos de apps para Android. Neste capítulo encontram-se detalhes sobre o planejamento, execução e resultados obtidos.
Os resultados obtidos com a aplicação deste \textit{Survey} foram reportados em um artigo submetido e aceito pelo SBES 2020 - Trilha de Ideias Inovadoras e Resultados Emergentes.


\section{Apresentação e Questões de Pesquisa}\label{rqsurvey}

Segundo \cite{PSK2001} um \textit{survey} é um sistema abrangente que tem como objetivo coletar informações para descrever, comparar ou explicar conhecimentos, atitudes e comportamentos. %A literatura apresenta alguns trabalhos que tem trazem a aplicação de teste de regressão na indústria \cite{Ali2019}, \cite{8094467}, \cite{7102609}, \cite{630875}.%

Definimos as seguintes Questões de Pesquisa (RQ):

\begin{enumerate}[label=\bf QP\arabic*,leftmargin=1.8cm]
    
    \item \textbf{Quão automatizado é o teste de regressão de aplicativos Android na prática?} Esta questão de pesquisa tem como objetivo identificar se os testadores utilizam-se de ferramentas para testar aplicativos Android. Também deseja-se descobrir as ferramentas usadas.
    
    \item \textbf{Como é realizado o processo de teste durante e após a manutenção dos apps?} Esta questão de pesquisa tem como objetivo identificar se os testadores realizam teste de regressão, e com que frequência. Também procura-se entender se e quais estratégias de seleção de teste podem ser empregadas para reduzir a quantidade de testes reexecutados.
    
    \item \textbf{Quais são os motivos para não realizar testes de regressão após a manutenção de apps para Android?} Esta questão de pesquisa tem como objetivo entender os motivos pelos quais os testadores não realizam testes de regressão em sua prática.
    
\end{enumerate}

\section{Metodologia de Pesquisa}\label{rmsurvey}

Este \textit{Survey} tem como objetivo compreender como testadores e desenvolvedores, realizam o teste de regressão em projetos de apps para Android.

Esta seção abrange os detalhes do planejamento, procedimentos de execução e relatórios dos resultados desejados e alcançados. Utilizamos a metodologia proposta por Kasunic \cite{Kasunic2005DesigningAE} e aplicamos os princípios de pesquisa definidos por Kitchenham et al. \cite{Kitchenham:2002:PSR:566493.566495}.


\subsection{Identificação do Público Alvo}

Para obter resultados válidos, selecionamos como público-alvo estudantes e profissionais de diferentes estados do Brasil que trabalham com testes de aplicativos para Android. 


\begin{comment}
Foram considerados três critérios:

\begin{enumerate}
    \item Pessoas que trabalham de forma autônoma; 
    \item Pessoas que trabalham / pesquisam em uma empresa; 
    \item Alunos pesquisando tópicos relacionados.
\end{enumerate}

\end{comment}

\subsection{Design do Questionário}


O \textit{Survey} é dividido em quatro seções. A Seção I refere-se ao termo de consentimento livre e esclarecido. A seção II refere-se à identificação do participante. Consiste em 13 perguntas, a maioria das quais são obrigatórias (8 perguntas de múltipla escolha, 3 subjetivas e 2 de seleção). Essas perguntas se referem a informações demográficas, área de formação, conhecimento e experiência em testes de software e testes de aplicativos Android. A Seção III trata do processo de teste de aplicativos Android. Consiste em 16 perguntas, a maioria das quais são obrigatórias (7 perguntas de múltipla escolha, 3 perguntas subjetivas e 6 perguntas na caixa de seleção). Essas perguntas tratam de como o processo de teste de software é realizado pelos participantes, bem como o uso de ferramentas para automatizar o processo de teste e se eles estão ou não satisfeitos com as ferramentas existentes. Finalmente, a Seção IV refere-se às considerações finais. 87\% das perguntas eram obrigatórias. A seguir, descrevemos os objetivos de cada seção do questionário.


\begin{itemize}
    \item \textbf{Perfil dos entrevistados:} pretendemos identificar o perfil dos entrevistados, com informações sobre sexo, idade, escolaridade, área de formação, certificações de teste, nível de conhecimento e experiência em testes de software e, especificamente, em aplicativos Android.
    
    \item \textbf{Foco da atividade de teste:} procuramos identificar se os testes realizados são funcionais ou estruturais. Além disso, queremos identificar os tipos de testes realizados nos projetos atuais, como: teste de \ac{GUI}, teste de unidade, teste de integração, teste de regressão, etc.
    
    \item \textbf{Automação do processo de teste:} pretendemos identificar se os testes são realizados de forma manual ou automatizada. Além disso, queremos identificar o suporte ferramental utilizado pelos entrevistados. No questionário, listamos ferramentas para testar aplicativos Android, encontradas na literatura e aplicadas na indústria. Portanto, poderíamos investigar se as ferramentas listadas na literatura também são conhecidas e utilizadas pelos entrevistados. A Tabela \ref{table:androidtools} mostra o conjunto de ferramentas de teste para aplicativos Android sobre as quais perguntamos aos entrevistados.
    
    \item \textbf{Processo de teste de regressão:} pretendemos identificar se os nossos participantes realizam testes de regressão após realizar manutenção em aplicativos Android. Estamos interessados em descobrir se: (i) o processo é feito manualmente ou automatizado, (ii) é aplicada alguma técnica de seleção de caso de teste, (iii) são utilizadas ferramentas, encontradas na literatura ou aplicadas na indústria, (iv) se estão satisfeitos com as ferramentas existentes; e (v) se e por que consideram a execução de testes de regressão como relevante.
    
\end{itemize}

\subsection{Projeto Piloto}

Aplicamos um piloto com três participantes, dois profissionais e um pesquisador, todos trabalhando com testes de aplicativos Android. Para a versão piloto do questionário, adicionamos uma seção de avaliação em que os participantes puderam fazer contribuições sobre a estrutura do questionário e indicar sugestões de melhorias. A seção de avaliação apresentou questões relacionadas à adequação das questões em relação ao tema da pesquisa; o número de perguntas a serem respondidas; o tempo necessário para responder ao formulário; e a relevância da pesquisa, como segue:


\begin{enumerate}
    \item Em uma escala de 1 a 5, onde 1 é igual a ruim e 5 é igual a ótimo, como você avalia o número de perguntas no formulário?
    \item Em uma escala de 1 a 5, onde 1 é igual a ruim e 5 é igual a ótimo, como você avalia a adequação das perguntas do formulário ao tema "Processo de teste de aplicativos para Android"?
    \item Cite pontos para melhorias.
    \item Cite pontos positivos do questionário.
    \item Deixe um comentário sobre o questionário.
\end{enumerate}

O \textit{feedback} sugeriu pequenas modificações na estrutura do questionário. As mudanças incluíram: adicionar opções de resposta a várias perguntas, alterar palavras para melhorar o entendimento e destacar o objetivo da pergunta para diferenciar questões que têm contextos semelhantes. Com base nas melhorias identificadas, uma segunda versão do questionário foi gerada.


\subsection{Distribuição do Questionário}

Para criar o questionário, usamos a ferramenta online Formulários Google\footnote{\url{http://docs.google.com/forms}}. O processo de ampla divulgação desta pesquisa foi realizado em 20 de janeiro de 2020 e ficou disponível por aproximadamente dois meses no primeiro semestre de 2020. O link do questionário foi enviado por e-mails (individuais e listas de e-mail) e mídias sociais, como o Linkedln. %O questionário também foi enviado por e-mail para empresas que trabalham com o desenvolvimento de aplicativos Android.%
O formulário foi enviado juntamente com um texto de convite, com informações essenciais sobre o objetivo do estudo e a importância do estudo. Os participantes também foram informados sobre as políticas de privacidade do estudo de maneira clara e detalhada.


\section{Resultados}\label{resultssurvey}

O \textit{Survey} recebeu 106 respostas, sendo que 6 destas foram descartadas, pois os entrevistados não tinham experiência anterior com teste de software nem trabalhavam com projetos de aplicativos Android, ou por terem respondido o formulário de forma duplicada, totalizando 100 respostas para análise. 

\subsection{Perfil dos entrevistados}

Quanto ao sexo e a idade dos entrevistados, 81\% eram homens e 19\% mulheres; A maioria deles 66\% tinha entre 20 e 30 anos (29\% de 20 a 25 e 37\% de 26 a 30 anos); 22\% tinham entre 31 e 35 anos; e 12\% tinham mais de 35 anos. 

Quanto ao nível de escolaridade, 9\% tinham apenas o ensino médio completo; 5\% tinham curso técnico; 7\% eram estudantes de graduação; 55\% eram graduados; 1\% era estudante de pós-graduação e 23\% possuíam diplomas mais altos, como MBA, mestrado. ou um Ph.D. Além disso, a maioria dos entrevistados possuía diploma em Ciência da Computação ou cursos relacionados (89\%); 9\% eram formados em engenharia elétrica ou engenharia de produção; e 2\% possuíam diplomas em outras áreas. Ao considerar certificações ou cursos na área de teste de software, 56 dos 100 participantes possuem pelo menos um certificado em cursos de teste de software, como o CTFL \textit{(Certified Tester Foundation Level)} e o \textit{Certified in Tester Foundation Level - Agile Tester (CTFL-AL)}.

Ao considerar a procedência dos entrevistados, a maioria eram estudantes e/ou profissionais (81\%) que atuam em uma empresa; 21\% eram estudantes e 18\% eram profissionais autônomos. Em termos de experiência profissional em teste de software, a maioria deles possuía até 5 anos de experiência e apenas 7\% possuía mais de 10 anos de experiência. No entanto, quando perguntados especificamente sobre sua experiência no teste de aplicativos Android, quase metade dos entrevistados (48\%) tinha apenas 1 ano de experiência. Além disso, quando questionados sobre seu nível de conhecimento em testar aplicativos Android em comparação com outros profissionais, quase metade deles considerou seu nível bom ou excelente, e 29\% deles consideraram baixo ou muito baixo, como Tabela 2 mostra.
 
Em relação à posição principal do projeto atual na empresa, os entrevistados consideraram uma das seguintes descrições: analista de qualidade, desenvolvedor, analista de teste, desenvolvimento móvel com Android, desenvolvedor, desenvolva para Android, analista de sistemas, gerente de projeto, gerente técnico e engenheiro de teste.
 
Com relação às principais tarefas, 72\% dos entrevistados trabalham com criação e design de caso de teste e 85\% deles trabalham apenas com execução de caso de teste.

\begin{table*}[htbp]
\centering
  \def \arraystretch{1.1}
  \footnotesize
  \caption{Resumo do nível de experiência dos respondentes}
    \begin{tabular}{ccccc}
    \toprule
    \multicolumn{5}{l}{\textbf{Experiência profissional em testes de softwares (em anos)}} \\
    \midrule
    \textbf{$<$1} & \textbf{1-3} & \textbf{3-5} & \textbf{5-10} & \textbf{$>$10} \\
    \midrule
    23\%  & 30\%  & 21\%  & 19\%  & 7\% \\
    \midrule
    \multicolumn{5}{l}{\textbf{Experiência em testes de apps Android (em anos)}} \\
    \midrule
    \multicolumn{1}{c}{\textbf{$<$1}} & \textbf{1-3} & \textbf{3-5} & \textbf{5-10} & \textbf{$>$10} \\
    \midrule
    48\%  & 25\%  & 17\%  & 10\%  & {\textbf{-}} \\
    \midrule
    \multicolumn{5}{m{10cm}}{\textbf{Nível de conhecimento em testes de apps Android quando comparado a outros profissionais}} \\
    \midrule
    \textbf{Muito baixo} & \textbf{Baixo} & \textbf{Regular} & \textbf{Bom} & \textbf{Ótimo} \\
    \midrule
    7\%   & 22\%  & 23\%  & 34\%  & 14\% \\
    \bottomrule
    \end{tabular}%
  \label{tab:professionalinformation}%
\end{table*}

\subsection{Questões de Pesquisa}

Em seguida, relatamos os resultados da pesquisa, com base no conjunto das questões de pesquisa apresentadas anteriormente na na Seção \ref{rqsurvey}.

\begin{enumerate}[label=\bf QP\arabic*]
    
\item \textbf{Quão automatizado é o teste de regressão de aplicativos Android na prática?}
    
Os entrevistados foram perguntados se eles costumavam executar testes de forma manual, automatizada ou ou se usavam as duas abordagens. 52\% dos entrevistados indicaram que adotam testes automatizados e manuais. Além disso, 30\% dos entrevistados responderam que realizam apenas testes manuais; e 18\% seguem um processo de teste suportado por ferramentas.
 
Em outra questão sobre o uso de ferramentas, 35\% dos entrevistados informaram que não usam ferramentas para testar seus aplicativos. No entanto, essa resposta contrasta com a anterior, quando 30\% afirmaram que só realizam testes manualmente. Em relação às ferramentas usadas com frequência, as mais relatadas foram Appium, Espresso, UI Automator, Roboeletric e Monkey. Todas essas ferramentas são gratuitas.
 
Também perguntamos aos entrevistados se eles usam ferramentas para realizar testes de regressão. 67\% deles não usam nenhuma ferramenta específica. 11\% dos entrevistados afirmaram não testar aplicativos após a manutenção e 29\% usam nenhuma ferramenta após a manutenção ou atualização, da seguinte forma: 13\% usam as mesmas ferramentas adotadas para testes regulares para realizar testes de regressão; 12\% usam ferramentas específicas de teste de regressão, conforme indicado na literatura; e 4\% usam outras ferramentas, como TestNG e ferramentas internas, ou seja, aquelas desenvolvidas por sua própria empresa.

Perguntamos aos participantes como eles poderiam avaliar a relevância do suporte de ferramentas existente para testes de regressão, no sentido de que eles poderiam indicar se as ferramentas poderiam atender às suas necessidades específicas ou não.

Para 10\% dos entrevistados, as ferramentas nunca atendem às suas necessidades. Para 8\%, elas raramente atendem às suas necessidades. Para 13\%, as ferramentas às vezes atendem às suas necessidades. Para 24\%, eles geralmente atendem às suas necessidades. 18\% dos participantes responderam que as ferramentas sempre atendem às suas necessidades e 27\% dos participantes não testam o aplicativo após a manutenção.
    
\item \textbf{Como é realizado o processo de teste durante e após a manutenção dos apps?:}

Para 51\% dos entrevistados, é ``sempre'' necessário testar novamente os aplicativos Android após a manutenção ou atualização para garantir que a manutenção realizada não altere o comportamento funcional do aplicativo. Para os outros entrevistados, 20\% responderam que ``às vezes'' testam, 19\% ``frequentemente'', 6\% ``raramente'' e apenas 4\% ``nunca''.

Os entrevistados também foram questionados sobre os procedimentos de teste que geralmente executam após a manutenção. A questão de pesquisa tem como objetivo entender se os participantes usaram estratégias para reduzir a quantidade de execuções de casos de teste preexistentes. A maioria dos entrevistados (77\%) seleciona e reutiliza os casos de teste que se referem às alterações entre a versão original e a versão atualizada do aplicativo Android. Essa estratégia pode reduzir o tempo necessário para testar o aplicativo. No entanto, 59\% responderam que reexecutam todos os casos de teste da versão original para testar a versão atualizada do aplicativo Android. 58\% dos entrevistados analisam se é necessário criar novos casos de teste para a versão atualizada do aplicativo. 10\% deles excluem um conjunto de casos de teste que não detectam falhas na versão atualizada do aplicativo Android. Vale ressaltar que nesta pergunta em particular, os entrevistados podiam selecionar mais de uma opção.

    
\item \textbf{Quais são os motivos para não realizar testes de regressão após a manutenção de apps para Android?}

Embora 11\% dos entrevistados não realizem testes após a manutenção ou atualização de software, 99\% consideraram essa tarefa relevante.
 
Portanto, os entrevistados foram questionados sobre os principais motivos pelos quais as empresas não testam aplicativos após a manutenção. Para 71\%, o tempo de entrega reduzido para o lançamento do novo aplicativo é o motivo mais relatado. 28\% dos entrevistados responderam que o problema se deve ao alto esforço da equipe de teste; para 23\%, a detecção de erros na nova versão tem pouca importância; 22\% dos entrevistados responderam que o motivo é a falta de um processo suportado por ferramentas.

Além disso, os entrevistados também compartilharam suas opiniões, com declarações como ``temos uma cultura no processo de desenvolvimento, que acreditamos que a fixação de uma área não afetará outra'' e ``os clientes geralmente pressionam a equipe para lançar o produto no mercado para não perder o tempo de colocação no mercado''.



\end{enumerate}

\section{Discussões}\label{discussions}

Nesta seção, discutimos os resultados em três aspectos: foco da atividade de teste, automação do processo de teste, e entender o processo de teste de regressão.

\begin{itemize}
\item \textbf{Foco da atividade de teste:} Os resultados indicam que os entrevistados realizam mais testes funcionais, nos quais não precisam acessar o código-fonte do aplicativo. Além disso, o estudo mostrou que os funcionários executam principalmente testes de validação, testes de integração, testes de sistema, testes de regressão, testes de interface gráfica do usuário (GUI) e testes de unidade. Esses testes podem ser essenciais para garantir a qualidade do aplicativo. Por exemplo, os testes da GUI podem ser um item indispensável para a qualidade de um aplicativo; O teste de validação verifica se o sistema atende aos requisitos solicitados. Com relação à preferência por testes funcionais em vez de não funcionais, pode ser necessário atrair especialistas em tecnologias de software e código fonte específicos para realizar testes não funcionais. Além disso, ferramentas podem ser adotadas para facilitar a execução e criação do teste.

Pesquisas futuras poderão ser realizadas para entender: (i) a relação entre os tipos de testes (validação, unidade, GUI, sistema); (ii) as abordagens e estratégias usadas para realizar testes funcionais ou não funcionais; e (iii) quais razões levam os profissionais a escolher uma técnica de teste específica em detrimento de outra.
    
\item \textbf{Automação do processo de teste:} A automação dos testes não é executado na maioria das empresas de software pesquisadas, apenas 18\% dos participantes realizam testes automatizados. No entanto, eles poderiam reduzir significativamente o custo do processo de teste, minimizar o erro humano e facilitar o teste de regressão \cite{Ammann:2008:IST:1355340}. Portanto, o desenvolvimento de ferramentas apropriadas pode trazer grandes benefícios para a área.

Além disso, a maioria dos entrevistados usa ferramentas gratuitas, que supostamente não atendem totalmente às suas necessidades profissionais. Além disso, as ferramentas acadêmicas podem ter poucos requisitos e não são disponíveis para uso comercial.

Uma pesquisa ou comparação da eficácia das ferramentas de teste pode ser realizada para orientar e auxiliar os testadores durante as atividades de teste. Neste estudo, também perguntamos aos participantes sobre quais recursos poderiam ser aprimorados ou implementados nas ferramentas que eles estão usando atualmente.

As respostas mais relevantes foram:

\begin{itemize}
    \item ``Os testes de UI no Android ainda são difíceis e demorados para construir.''
    \item ``A criação e execução das suítes de teste precisam ser automatizadas para permitir uma verificação mais rápida da qualidade da aplicação frente a alterações.''
    \item ``Acho que poderia ser emitido relatórios de tempo de execução de testes em relação a uma versão anterior e informar se teve algum caso de teste que não foi coberto na nova versão e que estava sendo coberto na versão anterior.''
    \item ``Serem mais \textit{User Friendly}.''
    \item ``Dificilmente uma ferramente vai conseguir fornecer tudo que o projeto precisa em relação a testes, então não acho que seja uma feature/funcionalidade que venha a resolver todos os problemas. O que a equipe realmente precisa ter é uma pessoa que entenda de testes e que quando falta alguma coisa em alguma ferramenta pronta, consegue mobilizar a equipe para criar uma lib do zero para resolver aquele problema. Isto é bem melhor do que ficar importando várias ferramentas de teste para o projeto, porque naturalmente cada uma é melhor em um aspecto. Então chega um certo ponto, que ao invés de ficar experimentando ferramentas novas para ver se resolve um problema, é melhor a equipe desenvolver esta nova ferramenta.''
    
\end{itemize}

Tais respostas apresentam dificuldades encontradas pelos participantes no uso de ferramentas de teste automatizadas prontas para aplicativos Android, que representam alguns dos motivos pelos quais eles não costumam usar as ferramentas existentes. Estudos futuros podem ser feitos para mapear a relação entre automação e tipo de teste, para que se possa entender: (i) quais tipos de testes mais exigem ferramentas; e (ii) quais recursos são esperados por esses profissionais para cada tipo específico de teste.
    
\item \textbf{Processo de teste de regressão:} 

Embora 99\% dos participantes considerem relevante para realizar testes de regressão, a quantidade de profissionais que realmente os realiza é muito menor. A seleção dos testes mais adequados pode reduzir o custo do software e o esforço da equipe. Além disso, a pesquisa não incluiu a palavra regressão em nenhuma pergunta ou resposta. Assim, alguns dos entrevistados podem não ter entendido que testar o aplicativo após executar sua atualização (manutenção) se refere a testes de regressão \cite{LEUNG1989}. Observamos divergências nas respostas dos entrevistados. Por exemplo, quando perguntados se eles realizam algum tipo de teste após a manutenção do aplicativo (atualização) para garantir que as alterações não afetem o comportamento funcional do aplicativo, 4\% responderam que nunca realizam esses testes. No entanto, em uma pergunta relacionada, 12\% responderam que não testam o aplicativo após a manutenção.
 
Embora a literatura apresente muitos estudos sobre técnicas de seleção de casos de teste como uma maneira de reduzir a quantidade de casos de teste no processo de teste de regressão \cite{KAZMI2017,ENGSTROM201014, 536955, WHITE1991,LEUNG1989}, muitos profissionais ainda reexecutam todos os casos de teste como na última versão. Como a maioria dos entrevistados não usa o suporte de ferramentas, o custo e o esforço para aplicar uma estratégia de seleção manualmente podem ser maiores do que reexecutar o conjunto completo de testes. Estes resultados reforçam a necessidade de ferramentas que forneçam uma seleção adequada de casos de teste. Estudos futuros são necessários para confirmar esses resultados preliminares.

\end{itemize}


\section{Ameaças à Validade}\label{threatstovalidity}

\textbf{Validade interna:} A pesquisa foi desenhada por um pesquisador e revisada por três pesquisadores. Posteriormente, um projeto piloto foi aplicado para validação. Além disso, as respostas dos respondentes foram dadas em português e o relato foi feito em inglês. Para mitigar essa ameaça, realizamos a tradução em pares, buscando manter a confiabilidade dos dados coletados.

\textbf{Validade externa:} Embora este estudo seja baseado em uma amostra que considerou pesquisadores e profissionais de teste de software, os resultados não podem ser generalizados para outros cenários. No entanto, este estudo é um passo inicial para fornecer mais evidências sobre a consciência e percepção dos profissionais sobre o uso de teste de regressão na manutenção de aplicativos Android. 

\textbf{Validade de construção:} No questionário,  evitamos usar o termo teste de regressão. Em vez disso, usamos implicitamente a definição do teste de regressão como uma estratégia para evitar viés e impedir que os participantes pesquisassem o conceito, antes de responder ao questionário. Apesar dos esforços, alguns participantes podem não ter relacionado a definição ao teste de regressão.


\section{Síntese do capítulo}

O presente capítulo apresentou o \textit{Survey} utilizado como instrumento de pesquisa para compreender qual a perspectiva de acadêmicos e profissionais sobre técnicas de seleção de teste de regressão implementadas por ferramentas para projetos de \ac{APPS} Android. Na Seção \ref{rqsurvey} definimos as questões de pesquisa. Na Seção \ref{rmsurvey} apresentamos a metodologia utilizada. A Seção \ref{resultssurvey} apresenta os resultados obtidos. Na Seção \ref{discussions} as devidas discussões, e na seção \ref{threatstovalidity} as ameaças à validade.




























